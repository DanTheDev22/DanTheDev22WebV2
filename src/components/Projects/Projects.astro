---
import './Projects.scss'
---

<section class="projects container" id="projects-section">
    <div class="projects__header">
        <div class="projects__header-line"></div>
        <span class="projects__header-label">Featured Work</span>
    </div>

    <div class="projects__container">

        <!-- ── Desktop ── -->
        <div class="projects__images swiper hidden-mobile" id="projects-desktop-swiper">
            <div class="swiper-wrapper">

                <div class="swiper-slide project-image" data-index="0">
                    <div class="project-image__bg swiper" id="project-video-swiper-0">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><video src="/videos/1.provider.mp4" autoplay loop muted playsinline></video></div>
                            <div class="swiper-slide"><video src="/videos/2.commands.mp4" autoplay loop muted playsinline></video></div>
                            <div class="swiper-slide"><video src="/videos/3.alerts.mp4"   autoplay loop muted playsinline></video></div>
                        </div>
                        <div class="swiper-pagination project-video-pagination"></div>
                    </div>
                    <div class="project-image__overlay"></div>
                </div>

                <!-- Add more project slides here following the same pattern -->

            </div>

            <div class="swiper-pagination projects-desktop-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>

        <div class="projects__content hidden-mobile">
            <div class="projects__info" id="project-info-container">
                <div class="projects__title-wrapper">
                    <div class="projects__title-line"></div>
                    <h3 id="proj-title" class="projects__title">TradeBot</h3>
                </div>
                <p id="proj-desc" class="projects__description">
                    A Telegram Bot designed to provide real-time financial data and personalized tools for traders and investors.
                </p>
                <div id="proj-tags" class="projects__tags">
                    <span class="projects__tag">Spring Boot</span>
                    <span class="projects__tag">PostgreSQL</span>
                    <span class="projects__tag">Redis</span>
                    <span class="projects__tag">Docker</span>
                    <span class="projects__tag">Heroku</span>
                </div>
                <div class="projects__actions">
                    <a href="https://github.com/DanTheDev22/Tradebot" id="proj-github" class="projects__button projects__button--primary">
                        View Project
                        <i data-lucide="arrow-up-right" class="projects__button-icon"></i>
                    </a>
                    <a href="https://t.me/my_trading_assist_bot" id="proj-demo" target="_blank" class="projects__button projects__button--secondary">Live Demo</a>
                </div>
            </div>
        </div>

        <!-- ── Mobile ── -->
        <div class="projects__mobile visible-mobile">
            <div class="swiper projects-mobile-swiper">
                <div class="swiper-wrapper">

                    <!-- Slide 0 -->
                    <div class="swiper-slide project-mobile">
                        <div class="project-mobile__image">
                            <div class="swiper project-mobile__video-swiper">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide"><video src="/videos/1.provider.mp4" autoplay loop muted playsinline></video></div>
                                    <div class="swiper-slide"><video src="/videos/2.commands.mp4" autoplay loop muted playsinline></video></div>
                                    <div class="swiper-slide"><video src="/videos/3.alerts.mp4"   autoplay loop muted playsinline></video></div>
                                </div>
                                <div class="swiper-pagination project-mobile-video-pagination"></div>
                            </div>
                        </div>
                        <div class="project-mobile__content">
                            <h3 class="project-mobile__title">TradeBot</h3>
                            <p class="project-mobile__description">A Telegram Bot designed to provide real-time financial data and personalized tools for traders and investors.</p>
                            <div class="project-mobile__tags">
                                <span class="projects__tag">Spring Boot</span>
                                <span class="projects__tag">PostgreSQL</span>
                                <span class="projects__tag">Redis</span>
                                <span class="projects__tag">Docker</span>
                                <span class="projects__tag">Heroku</span>
                            </div>
                        </div>
                        <div class="projects__actions">
                            <a href="https://github.com/DanTheDev22/Tradebot" class="projects__button projects__button--primary">
                                View Project
                                <i data-lucide="arrow-up-right" class="projects__button-icon"></i>
                            </a>
                            <a href="https://t.me/my_trading_assist_bot" target="_blank" class="projects__button projects__button--secondary">Live Demo</a>
                        </div>
                    </div>

                    <!-- Add more slides here following the same pattern -->

                </div>

                <!-- Mobile project-level pagination (dots between project cards) -->
                <div class="swiper-pagination projects-mobile-pagination"></div>
            </div>
        </div>

    </div>
</section>

<script>
    import {Projects} from './Projects';
    const instance = Projects.init();

    document.addEventListener('astro:before-swap', () => {
        instance?.destroy();
    });
</script>